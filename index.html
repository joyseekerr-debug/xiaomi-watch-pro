<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Â∞èÁ±≥ËÇ°Á•®Êô∫ËÉΩÁõëÊéß - XiaomiWatch Pro</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #fff;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            min-height: 100vh;
            padding: 20px;
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            margin-bottom: 20px;
        }
        .dashboard-grid {
            display: grid;
            grid-template-columns: 320px 1fr 320px;
            gap: 20px;
            max-width: 1400px;
            margin: 0 auto;
        }
        @media (max-width: 1200px) {
            .dashboard-grid { grid-template-columns: 1fr; }
        }
        .card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 16px;
        }
        .price-large {
            font-size: 48px;
            font-weight: 700;
            background: linear-gradient(135deg, #00d4ff, #00ff88);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .text-success { color: #00ff88; }
        .text-danger { color: #ff4757; }
        .text-warning { color: #ffd700; }
        .text-accent { color: #00d4ff; }
        .text-gray { color: rgba(255,255,255,0.5); }
        .section-title {
            font-size: 14px;
            color: rgba(255,255,255,0.5);
            margin-bottom: 12px;
        }
        .row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        .update-time {
            font-size: 11px;
            color: rgba(255,255,255,0.4);
            margin-top: 12px;
            text-align: right;
        }
        .btn {
            background: linear-gradient(135deg, #00d4ff, #0099cc);
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            color: #fff;
            cursor: pointer;
        }
        .footer {
            text-align: center;
            padding: 20px;
            color: rgba(255,255,255,0.4);
            font-size: 12px;
            margin-top: 40px;
        }
        .modal-overlay {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
        }
        .modal-content {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            max-width: 500px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
        }
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        .modal-close {
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.5);
            font-size: 20px;
            cursor: pointer;
        }
        .modal-body { padding: 20px; }
        .version-item {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }
        .version-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        .version-number {
            font-size: 16px;
            font-weight: bold;
            color: #00d4ff;
        }
        .version-date {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.5);
        }
        .version-name {
            font-size: 12px;
            color: #00ff88;
            margin-left: auto;
        }
        .version-changes {
            margin: 0;
            padding-left: 20px;
            font-size: 13px;
            color: rgba(255, 255, 255, 0.7);
        }
    </style>
</head>
<body>
    <div id="app">
        <header class="header">
            <div style="display: flex; align-items: center; gap: 12px;">
                <span style="font-size: 28px;">üìä</span>
                <div>
                    <h1 style="font-size: 20px;">Â∞èÁ±≥ËÇ°Á•®Êô∫ËÉΩÁõëÊéß</h1>
                </div>
            </div>
            <div class="text-gray">
                {{ currentDate }}
                <button class="btn" @click="refreshData" style="margin-left: 10px; font-size: 12px;">üîÑ Âà∑Êñ∞</button>
            </div>
        </header>

        <div class="dashboard-grid">
            <!-- Â∑¶‰æß -->
            <div>
                <div class="card">
                    <div class="section-title">Â∞èÁ±≥ÈõÜÂõ¢-W (1810.HK)</div>
                    <div class="price-large">{{ currentPrice.price }}</div>
                    <div :class="currentPrice.change >= 0 ? 'text-success' : 'text-danger'" style="font-size: 18px;">
                        {{ currentPrice.change >= 0 ? '+' : '' }}{{ currentPrice.change }}
                        ({{ currentPrice.change >= 0 ? '+' : '' }}{{ currentPrice.changePercent }}%)
                    </div>
                    <div class="update-time">Êõ¥Êñ∞‰∫é: {{ updateTime }}</div>
                </div>

                <div class="card">
                    <div class="section-title">ÊåÅ‰ªìÁä∂ÊÄÅ</div>
                    <div class="row"><span>ÊåÅ‰ªìËÇ°Êï∞</span><span>{{ position.shares }}ËÇ°</span></div>
                    <div class="row"><span>Âπ≥ÂùáÊàêÊú¨</span><span>{{ position.avgCost }} HKD</span></div>
                    <div class="row"><span>ÊåÅ‰ªìÁõà‰∫è</span><span :class="position.profit >= 0 ? 'text-success' : 'text-danger'">{{ position.profit >= 0 ? '+' : '' }}{{ position.profit }}ÂÖÉ</span></div>
                    <div class="update-time">Êõ¥Êñ∞‰∫é: {{ updateTime }}</div>
                </div>

                <div class="card">
                    <div class="section-title">ÂÖ≥ÈîÆ‰ª∑‰Ωç</div>
                    <div class="row"><span class="text-success">‰π∞ÂÖ•‰Ωç</span><span>{{ keyLevels.buy }} HKD</span></div>
                    <div class="row"><span class="text-danger">ÂçñÂá∫‰Ωç</span><span>{{ keyLevels.sell }} HKD</span></div>
                    <div class="row"><span class="text-danger">Ê≠¢Êçü‰Ωç</span><span>{{ keyLevels.stopLoss }} HKD</span></div>
                </div>
            </div>

            <!-- ‰∏≠Èó¥ -->
            <div>
                <div class="card" style="text-align: center; padding: 40px;">
                    <div class="section-title">‰ªäÊó•Âª∫ËÆÆ</div>
                    <div :class="adviceColorClass" style="font-size: 42px; font-weight: bold; margin: 20px 0;">{{ todayAdvice.action }}</div>
                    <div class="text-gray">{{ todayAdvice.reason }}</div>
                </div>

                <div class="card" style="text-align: center;">
                    <div class="section-title">Â§öÂõ†Â≠êËØÑÂàÜ</div>
                    <div style="font-size: 56px; font-weight: bold; background: linear-gradient(135deg, #00d4ff, #00ff88); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">{{ factorScores.overall }}</div>
                    <div class="text-gray">/100</div>
                </div>
            </div>

            <!-- Âè≥‰æß -->
            <div>
                <div class="card">
                    <div class="section-title">Á≥ªÁªüÁä∂ÊÄÅ</div>
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="width: 8px; height: 8px; background: #00ff88; border-radius: 50%;"></span>
                        <span>{{ systemStatus.status }}</span>
                    </div>
                </div>

                <div class="card" style="text-align: center;">
                    <div class="section-title">ËàÜÊÉÖÁõëÊéß</div>
                    <div :class="sentimentColorClass" style="font-size: 42px; font-weight: bold;">{{ sentiment.score }}</div>
                    <div :class="sentimentColorClass">{{ sentiment.level }}</div>
                </div>
            </div>
        </div>

        <footer class="footer">
            <div>È°µÈù¢ v1.2.3 (2025-02-23) | Êõ¥Êñ∞Êó∂Èó¥: {{ updateTime }}</div>
            <div style="margin-top: 8px;">
                <a href="#" @click.prevent="showSystemLog = true" style="color: #00d4ff; text-decoration: none; margin-right: 15px;">Á≥ªÁªüÁâàÊú¨Êó•Âøó</a>
                <a href="#" @click.prevent="showPageLog = true" style="color: #00d4ff; text-decoration: none;">È°µÈù¢ÁâàÊú¨Êó•Âøó</a>
            </div>
        </footer>

        <!-- Á≥ªÁªüÁâàÊú¨Êó•ÂøóÂºπÁ™ó -->
        <div v-if="showSystemLog" class="modal-overlay" @click.self="showSystemLog = false">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Á≥ªÁªüÁâàÊú¨Êó•Âøó</h3>
                    <button @click="showSystemLog = false" class="modal-close">‚úï</button>
                </div>
                <div class="modal-body">
                    <div v-for="(log, index) in systemVersionLog" :key="index" class="version-item">
                        <div class="version-header">
                            <span class="version-number">v{{ log.version }}</span>
                            <span class="version-date">{{ log.date }}</span>
                            <span class="version-name">{{ log.name }}</span>
                        </div>
                        <ul class="version-changes">
                            <li v-for="(change, cidx) in log.changes" :key="cidx">{{ change }}</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- È°µÈù¢ÁâàÊú¨Êó•ÂøóÂºπÁ™ó -->
        <div v-if="showPageLog" class="modal-overlay" @click.self="showPageLog = false">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>È°µÈù¢ÁâàÊú¨Êó•Âøó</h3>
                    <button @click="showPageLog = false" class="modal-close">‚úï</button>
                </div>
                <div class="modal-body">
                    <div v-for="(log, index) in pageVersionLog" :key="index" class="version-item">
                        <div class="version-header">
                            <span class="version-number">v{{ log.version }}</span>
                            <span class="version-date">{{ log.date }}</span>
                        </div>
                        <ul class="version-changes">
                            <li v-for="(change, cidx) in log.changes" :key="cidx">{{ change }}</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const { createApp, ref, computed } = Vue;

        createApp({
            setup() {
                // Áä∂ÊÄÅ
                const showSystemLog = ref(false);
                const showPageLog = ref(false);
                const updateTime = ref('');

                // Êï∞ÊçÆ - ‰ΩøÁî®ÁÆÄÂçïÂØπË±°ÈÅøÂÖçÂìçÂ∫îÂºèÈóÆÈ¢ò
                const currentPrice = ref({
                    price: '35.36',
                    change: '-1.30',
                    changePercent: '-3.55'
                });

                const position = ref({
                    shares: 1600,
                    avgCost: '35.90',
                    profit: '-864'
                });

                const keyLevels = ref({
                    buy: '34.0',
                    sell: '42.0',
                    stopLoss: '28.0'
                });

                const todayAdvice = ref({
                    action: 'Á≠âÂæÖ',
                    reason: 'Ë∑ùÁ¶ª‰π∞ÂÖ•‰Ωç34.0ËøòÂ∑Æ3.9%'
                });

                const factorScores = ref({
                    overall: '72.8'
                });

                const systemStatus = ref({
                    status: 'Ê≠£Â∏∏ÁõëÊéß‰∏≠'
                });

                const sentiment = ref({
                    score: '35',
                    level: 'Ë¥üÈù¢'
                });

                const systemVersionLog = ref([
                    { version: '3.1.0', date: '2025-02-20', name: 'Oracle-Sentinel', changes: ['Êñ∞Â¢ûËàÜÊÉÖÁõëÊéßÂõ†Â≠ê(10%ÊùÉÈáç)', '‰ºòÂåñÂ§öÂõ†Â≠êËØÑÂàÜÁÆóÊ≥ï'] },
                    { version: '3.0.0', date: '2025-02-15', name: 'Sentinel', changes: ['ÂàùÂßãÁâàÊú¨ÂèëÂ∏É', '6Âõ†Â≠êËØÑÂàÜÊ®°Âûã'] }
                ]);

                const pageVersionLog = ref([
                    { version: '1.2.3', date: '2025-02-23', changes: ['‰øÆÂ§çVueÊ∏≤ÊüìÈóÆÈ¢ò', 'ÁÆÄÂåñÊï∞ÊçÆÁªìÊûÑ'] },
                    { version: '1.2.2', date: '2025-02-23', changes: ['Ê∑ªÂä†ÁâàÊú¨Êó•ÂøóÂºπÁ™ó'] },
                    { version: '1.2.0', date: '2025-02-23', changes: ['ÊÅ¢Â§çÂìçÂ∫îÂºèÂ∏ÉÂ±Ä'] },
                    { version: '1.0.0', date: '2025-02-22', changes: ['ÂàùÂßãÁâàÊú¨'] }
                ]);

                // ËÆ°ÁÆóÂ±ûÊÄß
                const currentDate = computed(() => {
                    return new Date().toLocaleDateString('zh-CN', {
                        year: 'numeric', month: 'long', day: 'numeric', weekday: 'long'
                    });
                });

                const adviceColorClass = computed(() => {
                    const action = todayAdvice.value.action;
                    if (action === '‰π∞ÂÖ•') return 'text-success';
                    if (action === 'ÂçñÂá∫') return 'text-danger';
                    return 'text-warning';
                });

                const sentimentColorClass = computed(() => {
                    const score = parseInt(sentiment.value.score);
                    if (score >= 70) return 'text-success';
                    if (score >= 40) return 'text-warning';
                    return 'text-danger';
                });

                // ÊñπÊ≥ï
                const refreshData = () => {
                    updateTime.value = new Date().toLocaleTimeString('zh-CN');
                };

                // ÂàùÂßãÂåñ
                updateTime.value = new Date().toLocaleTimeString('zh-CN');

                return {
                    showSystemLog,
                    showPageLog,
                    updateTime,
                    currentPrice,
                    position,
                    keyLevels,
                    todayAdvice,
                    factorScores,
                    systemStatus,
                    sentiment,
                    systemVersionLog,
                    pageVersionLog,
                    currentDate,
                    adviceColorClass,
                    sentimentColorClass,
                    refreshData
                };
            }
        }).mount('#app');
    </script>
</body>
</html>
